(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,a,t){},17:function(e,a,t){e.exports=t(33)},25:function(e,a,t){},30:function(e,a,t){},31:function(e,a,t){},33:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t.n(r),o=t(13),l=t.n(o),c=(t(25),t(7)),s=t(3),i=t(14),m=t(15),u=t(16);const d=Object(i.a)({apiKey:"AIzaSyA4ILMwYM6kWQYqzj2swfcGfXzDpu6rTgw",authDomain:"peliculas-8ed9a.firebaseapp.com",projectId:"peliculas-8ed9a",storageBucket:"peliculas-8ed9a.firebasestorage.app",messagingSenderId:"933272402210",appId:"1:933272402210:web:1751cf1de4b38dce9e0d7b",measurementId:"G-F3F6RS788C"}),E=Object(s.d)(d);Object(m.a)(d),Object(u.a)(d);console.log("Firestore conectado correctamente.");t(30);var p=e=>{let{onLogin:a}=e;const[t,o]=Object(r.useState)({email:"",password:"",profile:""}),[l,i]=Object(r.useState)(!1),[m,u]=Object(r.useState)(""),[d,p]=Object(r.useState)({}),[b,g]=Object(r.useState)(!1),v=e=>{const{name:a,value:r}=e.target;o(Object(c.a)(Object(c.a)({},t),{},{[a]:r}))};return n.a.createElement("div",{className:"login-container"},n.a.createElement("div",{className:"login-card"},n.a.createElement("h2",{className:"login-title"},l?"Registrarse":"Inicio de Sesi\xf3n"),n.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return t.email?/\S+@\S+\.\S+/.test(t.email)||(e.email="Ingrese un correo v\xe1lido."):e.email="El correo es obligatorio.",l||t.password||(e.password="La contrase\xf1a es obligatoria."),t.profile||(e.profile="Debe seleccionar un perfil."),l&&(t.password.length<8&&(e.password="La contrase\xf1a debe tener al menos 8 caracteres."),t.password!==m&&(e.confirmPassword="Las contrase\xf1as no coinciden.")),p(e),0===Object.keys(e).length})()){g(!0);try{if(l){const e=Object(s.b)(E,"users");await Object(s.a)(e,{email:t.email,password:t.password,profile:t.profile,createdAt:new Date}),alert("Usuario registrado correctamente."),i(!1)}else{const e=Object(s.b)(E,"users"),r=Object(s.e)(e,Object(s.f)("email","==",t.email)),n=await Object(s.c)(r);if(n.empty)return p({email:"El correo no est\xe1 registrado."}),void g(!1);const o=n.docs[0].data();if(o.password!==t.password)return p({password:"La contrase\xf1a es incorrecta."}),void g(!1);if(o.profile.trim().toLowerCase()!==t.profile.trim().toLowerCase())return p({profile:"El perfil seleccionado no coincide con el usuario."}),void g(!1);a(o.profile)}}catch(r){console.error("Error durante el inicio de sesi\xf3n:",r),alert("Ocurri\xf3 un error. Intente nuevamente.")}finally{g(!1)}}}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Correo Electr\xf3nico:"),n.a.createElement("input",{type:"email",id:"email",name:"email",value:t.email,onChange:v}),d.email&&n.a.createElement("p",{className:"error-text"},d.email)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a:"),n.a.createElement("input",{type:"password",id:"password",name:"password",value:t.password,onChange:v}),d.password&&n.a.createElement("p",{className:"error-text"},d.password)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"profile"},"Seleccionar Perfil:"),n.a.createElement("select",{id:"profile",name:"profile",value:t.profile,onChange:v},n.a.createElement("option",{value:""},"Seleccione un perfil"),n.a.createElement("option",{value:"Administrador"},"Administrador"),n.a.createElement("option",{value:"Apoderado"},"Apoderado"),n.a.createElement("option",{value:"Estudiante"},"Estudiante")),d.profile&&n.a.createElement("p",{className:"error-text"},d.profile)),l&&n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"confirmPassword"},"Confirmar Contrase\xf1a:"),n.a.createElement("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:m,onChange:e=>u(e.target.value)}),d.confirmPassword&&n.a.createElement("p",{className:"error-text"},d.confirmPassword)),n.a.createElement("button",{type:"submit",className:"login-button",disabled:b},b?"Cargando...":l?"Registrarse":"Iniciar Sesi\xf3n")),n.a.createElement("div",{className:"toggle-link"},l?n.a.createElement("p",null,"\xbfYa tienes una cuenta?"," ",n.a.createElement("span",{onClick:()=>i(!1)},"Inicia sesi\xf3n aqu\xed.")):n.a.createElement("p",null,"\xbfNo tienes una cuenta?"," ",n.a.createElement("span",{onClick:()=>i(!0)},"Reg\xedstrate aqu\xed.")))))};t(12);var b=e=>{let{onLogout:a}=e;const[t,o]=Object(r.useState)({nombre:"",edad:"",curso:"",estadoMatricula:"Activa"}),[l,i]=Object(r.useState)({nombre:"",edad:"",curso:"",estadoMatricula:""}),[m,u]=Object(r.useState)([]),[d,p]=Object(r.useState)({}),b=e=>{const{name:a,value:r}=e.target;o(Object(c.a)(Object(c.a)({},t),{},{[a]:r}))},g=e=>{const{name:a,value:t}=e.target;i(Object(c.a)(Object(c.a)({},l),{},{[a]:t}))};return n.a.createElement("div",{className:"admin-container"},n.a.createElement("h1",null,"Panel de Administraci\xf3n"),n.a.createElement("button",{className:"logout-button",onClick:a},"Cerrar Sesi\xf3n"),n.a.createElement("div",{className:"add-section"},n.a.createElement("h2",null,"Agregar Estudiante"),n.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),t.nombre&&t.edad&&t.curso&&t.estadoMatricula)try{const e=Object(s.b)(E,"estudiantes");await Object(s.a)(e,{nombre:t.nombre,edad:parseInt(t.edad),curso:t.curso,estadoMatricula:t.estadoMatricula}),alert("Estudiante agregado exitosamente."),o({nombre:"",edad:"",curso:"",estadoMatricula:"Activa"})}catch(a){console.error("Error al agregar estudiante:",a),alert("Hubo un error al agregar el estudiante. Intente nuevamente.")}else p({message:"Todos los campos son obligatorios para agregar un estudiante."})}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"nombre"},"Nombre:"),n.a.createElement("input",{type:"text",id:"nombre",name:"nombre",value:t.nombre,onChange:b,required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"edad"},"Edad:"),n.a.createElement("input",{type:"number",id:"edad",name:"edad",value:t.edad,onChange:b,required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"curso"},"Curso:"),n.a.createElement("input",{type:"text",id:"curso",name:"curso",value:t.curso,onChange:b,required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"estadoMatricula"},"Estado Matr\xedcula:"),n.a.createElement("select",{id:"estadoMatricula",name:"estadoMatricula",value:t.estadoMatricula,onChange:b,required:!0},n.a.createElement("option",{value:"Activa"},"Activa"),n.a.createElement("option",{value:"Inactiva"},"Inactiva"))),n.a.createElement("button",{type:"submit",className:"add-button"},"Agregar Estudiante"))),n.a.createElement("div",{className:"search-section"},n.a.createElement("h2",null,"Filtrar Estudiantes"),n.a.createElement("form",{onSubmit:async e=>{e.preventDefault();const a=Object(s.b)(E,"estudiantes"),t=[];l.nombre&&t.push(Object(s.f)("nombre","==",l.nombre)),l.edad&&t.push(Object(s.f)("edad","==",parseInt(l.edad))),l.curso&&t.push(Object(s.f)("curso","==",l.curso)),l.estadoMatricula&&t.push(Object(s.f)("estadoMatricula","==",l.estadoMatricula));try{const e=Object(s.e)(a,...t),n=await Object(s.c)(e);if(n.empty)u([]),alert("No se encontraron estudiantes con esos criterios.");else{const e=n.docs.map(e=>Object(c.a)({id:e.id},e.data()));u(e)}}catch(r){console.error("Error al buscar estudiantes:",r),alert("Ocurri\xf3 un error durante la b\xfasqueda.")}}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"nombre"},"Nombre:"),n.a.createElement("input",{type:"text",id:"nombre",name:"nombre",value:l.nombre,onChange:g})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"edad"},"Edad:"),n.a.createElement("input",{type:"number",id:"edad",name:"edad",value:l.edad,onChange:g})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"curso"},"Curso:"),n.a.createElement("input",{type:"text",id:"curso",name:"curso",value:l.curso,onChange:g})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"estadoMatricula"},"Estado Matr\xedcula:"),n.a.createElement("select",{id:"estadoMatricula",name:"estadoMatricula",value:l.estadoMatricula,onChange:g},n.a.createElement("option",{value:""},"Seleccione un estado"),n.a.createElement("option",{value:"Activa"},"Activa"),n.a.createElement("option",{value:"Inactiva"},"Inactiva"))),n.a.createElement("button",{type:"submit",className:"search-button"},"Buscar"))),n.a.createElement("div",{className:"results-section"},n.a.createElement("h2",null,"Resultados"),m.length>0?n.a.createElement("ul",null,m.map(e=>n.a.createElement("li",{key:e.id},n.a.createElement("strong",null,"Nombre:")," ",e.nombre," |"," ",n.a.createElement("strong",null,"Edad:")," ",e.edad," |"," ",n.a.createElement("strong",null,"Curso:")," ",e.curso," |"," ",n.a.createElement("strong",null,"Estado Matr\xedcula:")," ",e.estadoMatricula))):n.a.createElement("p",null,"No hay resultados para mostrar.")))};var g=e=>{let{apoderado:a,onNavigateBack:t,onLogout:r}=e;return n.a.createElement("div",{className:"admin-container"},n.a.createElement("h1",null,"Panel del Apoderado"),n.a.createElement("button",{className:"logout-button",onClick:r},"Cerrar Sesi\xf3n"),n.a.createElement("div",{className:"student-info-section"},n.a.createElement("h2",null,"Informaci\xf3n del Apoderado"),n.a.createElement("div",{className:"info-group"},n.a.createElement("strong",null,"Nombre:")," ",a.nombre),n.a.createElement("div",{className:"info-group"},n.a.createElement("strong",null,"Tel\xe9fono:")," ",a.telefono),n.a.createElement("div",{className:"info-group"},n.a.createElement("strong",null,"Direcci\xf3n:")," ",a.direccion)),n.a.createElement("div",{className:"students-section"},n.a.createElement("h2",null,"Estudiantes Asociados"),a.estudiantes.length>0?n.a.createElement("ul",null,a.estudiantes.map(e=>n.a.createElement("li",{key:e.id},n.a.createElement("strong",null,"Nombre:")," ",e.nombre," |"," ",n.a.createElement("strong",null,"Curso:")," ",e.curso," |"," ",n.a.createElement("strong",null,"Estado Matr\xedcula:")," ",e.estadoMatricula))):n.a.createElement("p",null,"No hay estudiantes asociados.")),n.a.createElement("button",{className:"navigate-button",onClick:t},"Volver al Panel del Estudiante"))};t(31);var v=e=>{let{estudiante:a,onNavigateToApoderado:t,onNavigateToMatricula:r,onLogout:o}=e;return n.a.createElement("div",{className:"admin-container"},n.a.createElement("h1",null,"Panel del Estudiante"),n.a.createElement("button",{className:"logout-button",onClick:o},"Cerrar Sesi\xf3n"),n.a.createElement("div",{className:"student-info-section"},n.a.createElement("h2",null,"Informaci\xf3n del Estudiante"),n.a.createElement("div",{className:"info-group"},n.a.createElement("strong",null,"Nombre:")," ",a.nombre),n.a.createElement("div",{className:"info-group"},n.a.createElement("strong",null,"Edad:")," ",a.edad),n.a.createElement("div",{className:"info-group"},n.a.createElement("strong",null,"Curso:")," ",a.curso),n.a.createElement("div",{className:"info-group"},n.a.createElement("strong",null,"Estado Matr\xedcula:")," ",a.estadoMatricula)),n.a.createElement("div",{className:"navigation-section"},n.a.createElement("button",{className:"navigate-button",onClick:t},"Ver Informaci\xf3n del Apoderado"),n.a.createElement("button",{className:"navigate-button",onClick:r},"Ver Informaci\xf3n de Matr\xedcula")))};var f=()=>{const[e,a]=Object(r.useState)(null),[t,o]=Object(r.useState)(!1),[l,c]=Object(r.useState)("default"),s={nombre:"Juan P\xe9rez",edad:16,curso:"10mo",estadoMatricula:"Activa"},i={nombre:"Mar\xeda L\xf3pez",telefono:"123456789",direccion:"Calle 123, Ciudad",estudiantes:[{id:"estudiante_1",nombre:"Juan P\xe9rez",curso:"10mo",estadoMatricula:"Activa"}]},m=()=>{a(null),o(!1),c("default")};return n.a.createElement("div",null,t?n.a.createElement(n.a.Fragment,null,"Administrador"===e&&n.a.createElement(b,{onLogout:m}),"Apoderado"===e&&n.a.createElement(g,{apoderado:i,onLogout:m,onNavigateBack:()=>c("default")}),"Estudiante"===e&&n.a.createElement(n.a.Fragment,null,"default"===l&&n.a.createElement(v,{estudiante:s,onNavigateToApoderado:()=>{c("apoderado")},onNavigateToMatricula:()=>{c("matricula")},onLogout:m}),"apoderado"===l&&n.a.createElement(g,{apoderado:i,onLogout:m,onNavigateBack:()=>c("default")}),"matricula"===l&&n.a.createElement("div",{className:"admin-container"},n.a.createElement("h1",null,"Informaci\xf3n de Matr\xedcula"),n.a.createElement("div",{className:"info-group"},n.a.createElement("strong",null,"Nombre:")," ",s.nombre),n.a.createElement("div",{className:"info-group"},n.a.createElement("strong",null,"Curso:")," ",s.curso),n.a.createElement("div",{className:"info-group"},n.a.createElement("strong",null,"Estado Matr\xedcula:")," ",s.estadoMatricula),n.a.createElement("button",{className:"navigate-button",onClick:()=>c("default")},"Volver al Panel del Estudiante")))):n.a.createElement(p,{onLogin:e=>{a(e),o(!0),c("default")}}))};var N=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,34)).then(a=>{let{getCLS:t,getFID:r,getFCP:n,getLCP:o,getTTFB:l}=a;t(e),r(e),n(e),o(e),l(e)})};t(32);l.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(f,null))),N()}},[[17,1,2]]]);
//# sourceMappingURL=main.1368aaa5.chunk.js.map